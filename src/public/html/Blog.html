<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Articles</title>
    <link rel="stylesheet" href="../css/blog.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
</head>
<body>
    <div class="navigation-bar">
    <div class="nav-shell">
        <ul>
            <li class="otr-logo">
                <img src="../images/icons/otrLogo.svg" alt="Ontario Tech Racing Logo"/>
            </li>
            <div class="nav-toggle">
                <li class="link">
                    <a href="#"> Home </a>
                </li>
                <li class="link">
                    <a href="./TeamPage.html">Team</a>
                </li>
                <li class="link">
                    <a href="">Our Car</a>
                </li>
                <li class="link">
                  <a href="./joinUs.html">Join Us</a>
              </li>
                <li class="link">
                    <a href="./sponsers.html">Sponsors</a>
                </li>
                <li class="link">
                    <a href="./OntarioTechRacingHistory.html">History</a>
                </li>
            </div>
        </ul>
        <button class="menu-button">
            <div class="bar1"></div>
            <div class="bar2"></div>
            <div class="bar3"></div>
        </button>
    </div>
</div>

    
    <div class="articles" style="margin: 6% 100px;">
        <h3 class="h3-articles" style="margin-bottom: 30px;">Articles</h3>

        <!-- TODO: Need to make this dynamic -->

        <section style="margin-top: 1%;" class="featured-article">
            <img src="../images/carImages/2022/slideshow-5.jpg" class="featuredImg" style="width: 514px;" alt="Featured Article">
            <div class="content">
            <span class="badge"><span class="highlightBadge">News!</span> 8 mins read</span>
            <h1>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
            <a href="#" class="read-more">Read More â†’</a>
            </div>
        </section>
    </div>

    <div class="recent-articles">
        <h2>Our Recent Articles</h2>
        <p>Stay Informed with Our Latest Insights</p>
        <div class="articles-grid">
            
        </div>
    </div>
    
</body>
<script>
    async function fetchAndRenderArticles() {
  try {
    const response = await fetch('./json/articles.json');
    const articles = await response.json();

    const container = document.querySelector('.articles-grid');

    container.innerHTML = articles
      .map(
        (article) => `
        <a href="./articleDetail.html?title=${encodeURIComponent(article.title)}&author=${encodeURIComponent(article.author)}&date=${encodeURIComponent(article.date)}&img=${encodeURIComponent(article.img)}&description=${encodeURIComponent(article.description)}" class="article-card">
          <img src="${article.img}" alt="Article Image">
          <div class="article-content">
            <div class="article-meta">
              <span class="author">${article.author}</span>
              <span class="date">${article.date}</span>
            </div>
            <h3>${article.title}</h3>
            <p>${article.description}</p>
          </div>
        </a>
      `
      )
      .join('');
  } catch (error) {
    console.error('Error fetching articles:', error);
  }
}

document.addEventListener('DOMContentLoaded', fetchAndRenderArticles);
</script>
      `
      )
      .join('');
  } catch (error) {
    console.error('Error fetching articles:', error);
  }
}

document.addEventListener('DOMContentLoaded', fetchAndRenderArticles);
</script>
</html>